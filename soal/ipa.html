<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/css/tes.css">
    <title>Soal IPA</title>
    <link rel="icon" type="image/x-icon" href="/asset/icon/ic-logo-setudy.svg">
</head>

<body>
    <nav>
        <div class="navbar">
            <div class="nav-logo">
                <a href="/dashboard.html">
                    <h1>Setudy.</h1>
                </a>
            </div>
    </nav>
    <div class="hero">
        <div class="tes-con">
            <h1>Tes Ipa</h1>
            <h2 style="color: #838383; font-size: 16px; font-weight: 400;">Jawab dengan teliti!!</h2>

            <div class="soal">

                <form id="myForm">
                    <div>
                        <label>Seorang siswa menaiki sepeda
                            dari rumah dan melaju ke arah
                            timur sejauh 45 km. Selanjutnya
                            dia kembali lagi ke rumah dengan
                            melewati jalur yang sama.
                            Berapakah jarak yang ditempuh
                            oleh siswa?</label><br>
                        <input type="radio" id="q1_yes" name="q1" value="0">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">45km</label>
                        <input type="radio" id="q1_no" name="q1" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">55km</label>
                        <input type="radio" id="q1_no" name="q1" value="10">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">90km</label>
                    </div>
                    <div>
                        <label>Kamu berjalan ke arah timur
                            sejauh 4 m. Kemudian kamu
                            berjalan ke selatan sejauh 2 m
                            dan ke arah barat sejauh 4 meter.
                            Berapakah perpindahanmu?</label><br>
                        <input type="radio" id="q1_yes" name="q2" value="0">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">10 meter ke arah selatan</label>
                        <input type="radio" id="q1_no" name="q2" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">10 meter ke arah utara.</label>
                        <input type="radio" id="q1_no" name="q2" value="10">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">2 meter ke selatan</label>
                    </div>
                    <div>
                        <label>Jika sebuah benda memperoleh
                            gaya yang jumlahnya nol maka
                            benda tersebut dapat berada
                            dalam keadaan…</label><br>
                        <input type="radio" id="q1_yes" name="q3" value="0">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">Betambah cepat</label>
                        <input type="radio" id="q1_no" name="q3" value="10">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">diam atau bergerak dengan
                            kecepatan tetap.</label>
                        <input type="radio" id="q1_no" name="q3" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">Bertambah lambat</label>
                    </div>
                    <div>
                        <label>Bagaimana tingkatan trofik dalam ekosistem dapat memengaruhi interaksi antarorganisme dan kestabilan ekosistem?</label><br>
                        <input type="radio" id="q1_yes" name="q4" value="0">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">Tingkatan trofik memengaruhi siklus air dan iklim lokal</label>
                        <input type="radio" id="q1_no" name="q4" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">Tingkatan trofik berkaitan dengan tingkat reproduksi organisme</label>
                        <input type="radio" id="q1_no" name="q4" value="10">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">Tingkatan trofik memainkan peran kunci dalam aliran energi dan transfer nutrisi</label>
                    </div>
                    <div>
                        <label>Apa dampak negatif biomagnifikasi terhadap ekosistem?</label><br>
                        <input type="radio" id="q1_yes" name="q5" value="0">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">Penurunan kesehatan organisme dan peningkatan keanekaragaman hayati</label>
                        <input type="radio" id="q1_no" name="q5" value="10">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">Penurunan keanekaragaman hayati dan risiko ekosistem tidak seimbang</label>
                        <input type="radio" id="q1_no" name="q5" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">Peningkatan produktivitas ekosistem dan perubahan iklim lokal</label>
                    </div>
                    <div>
                        <label> Bagaimana aktivitas manusia dapat meningkatkan risiko biomagnifikasi dalam ekosistem?</label><br>
                        <input type="radio" id="q1_yes" name="q6" value="0">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">Pengelolaan limbah yang efisien dan terkontrol</label>
                        <input type="radio" id="q1_no" name="q6" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">Penggunaan pestisida secara bijak untuk pertanian</label>
                        <input type="radio" id="q1_no" name="q6" value="10">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">Pembuangan limbah industri dan pertanian tanpa pengolahan yang tepat</label>
                    </div>
                    <div>
                        <label>Mengapa penting untuk melibatkan masyarakat dalam upaya mengurangi biomagnifikasi dan akumulasi bahan pencemar?</label><br>
                        <input type="radio" id="q1_yes" name="q7" value="0">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">Karena masyarakat tidak mempengaruhi lingkungan</label>
                        <input type="radio" id="q1_no" name="q7" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">Karena masyarakat tidak peduli dengan isu lingkungan</label>
                        <input type="radio" id="q1_no" name="q7" value="10">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">Karena masyarakat dapat berkontribusi pada pengelolaan limbah dan penggunaan bahan kimia yang lebih aman</label>
                    </div>
                    <div>
                        <label>Tingginya kadar monoksida di udara dapat menggangu kesehatan manusia terutama yang berkaitan dengan….</label><br>
                        <input type="radio" id="q1_yes" name="q8" value="10">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">pengikatan O2 olah darah</label>
                        <input type="radio" id="q1_no" name="q8" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">radang saluran pernapasan</label>
                        <input type="radio" id="q1_no" name="q8" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">efek rumah kaca</label>
                    </div>
                    <div>
                        <label>Bagaimana akumulasi bahan pencemar dapat masuk ke dalam rantai makanan?</label><br>
                        <input type="radio" id="q1_yes" name="q9" value="10">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">Melalui transfer langsung dari organisme satu ke organisme lain</label>
                        <input type="radio" id="q1_no" name="q9" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">Melalui proses fotosintesis pada tumbuhan</label>
                        <input type="radio" id="q1_yes" name="q9" value="0">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">Melalui Udara yang tercemar</label>
                    </div>
                    <div>
                        <label>Peningkatan kadar gas karbon dioksida di atmosfer yang berasal dari industri, kendaraan bermotor, dan pemukiman dapat menyebabkan..</label><br>
                        <input type="radio" id="q1_yes" name="q10" value="10">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">Penurunan suhu udar</label>
                        <input type="radio" id="q1_no" name="q10" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">penurunan intensitas matahari</label>
                        <input type="radio" id="q1_no" name="q10" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">Kenaikan suhu udara</label>
                    </div>




                    <a href=""><button id="submit" type="button">Submit</button></a>
                </form>

            </div>
        </div>
        <div class="hasil-con">
            <h1>Hasil tes Ipa kamu!!</h1>
            <div class="con-riasec">
                <h1 id="nilai" style="font-size: 96px; color: black;">hasil</h1>
            </div>
            <p>Tetap semangat!! <a id="coba" href="">Coba Lagi</a></p>

        </div>


    </div>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getDatabase, get,update, set, ref , child} from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";
        document.addEventListener("DOMContentLoaded", function() {
        let creds = JSON.parse(sessionStorage.getItem("creds"));
        let info = JSON.parse(sessionStorage.getItem("user-info"));
        const tesCon = document.querySelector('.tes-con');
        const hasilCon = document.querySelector('.hasil-con');
        const riasecCon = document.querySelector('.riasec-con');
        const submitBtn = document.getElementById('submit');
        const hasil = document.getElementById('nilai');
        const ulang = document.getElementById('coba');
        const firebaseConfig = {
           apiKey: "AIzaSyC02kA2sOKfzUPLlfeHOr66Vf3HsIpPRhw",
           authDomain: "setudy-9d61c.firebaseapp.com",
           databaseURL: "https://setudy-9d61c-default-rtdb.asia-southeast1.firebasedatabase.app",
           projectId: "setudy-9d61c",
           storageBucket: "setudy-9d61c.appspot.com",
           messagingSenderId: "583846931989",
           appId: "1:583846931989:web:fd9f2effc67b313772e81c",
           measurementId: "G-H3WL8YX8XY"
};


const app = initializeApp(firebaseConfig);
        const db = getDatabase();
        const dbref = ref(db);
        function submitForm() {
                    var q1 = parseInt(document.querySelector('input[name="q1"]:checked').value)
                    var q2 = parseInt(document.querySelector('input[name="q2"]:checked').value)
                    var q3 = parseInt(document.querySelector('input[name="q3"]:checked').value)
                    var q4 = parseInt(document.querySelector('input[name="q4"]:checked').value)
                    var q5 = parseInt(document.querySelector('input[name="q5"]:checked').value)
                    var q6 = parseInt(document.querySelector('input[name="q6"]:checked').value)
                    var q7 = parseInt(document.querySelector('input[name="q7"]:checked').value)
                    var q8 = parseInt(document.querySelector('input[name="q8"]:checked').value)
                    var q9 = parseInt(document.querySelector('input[name="q9"]:checked').value)
                    var q10 = parseInt(document.querySelector('input[name="q10"]:checked').value)

  
                    update(ref(db, 'UsersAuthList/' + creds.uid + '/nilai/ipa'), {
                        nilai:q1+q2+q3+q4+q5+q6+q7+q8+q9+q10,
                        condition:1
                    })

                    



            }     
            function ulangTes() {
                update(ref(db, 'UsersAuthList/' + creds.uid + '/nilai/ipa'), {
                        
                        condition:0
                    })
            }  


get(child(dbref, `UsersAuthList/${creds.uid}/nilai/ipa`)).then((nilai)=> {
console.log(nilai.val().condition)
let condition = nilai.val().condition;
let nilaiIpa = nilai.val().nilai;

 if (condition == 0){
 tesCon.style.display = 'flex'
 submitBtn.addEventListener('click', submitForm);
 } else if(condition == 1){
 hasilCon.style.display = 'flex'
hasil.innerText = `${nilaiIpa}/100`;
ulang.addEventListener('click', ulangTes);


 

 }

})



})
        </script>

</body>

</html>