<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/css/tes.css">
    <title>Soal Matematika</title>
    <link rel="icon" type="image/x-icon" href="/asset/icon/ic-logo-setudy.svg">

</head>

<body>
    <nav>
        <div class="navbar">
            <div class="nav-logo">
                <a href="/dashboard.html">
                    <h1>Setudy.</h1>
                </a>
            </div>
    </nav>
    <div class="hero">
        <div class="tes-con">
            <h1>Tes Matematika</h1>
            <h2 style="color: #838383; font-size: 16px; font-weight: 400;">Jawab dengan teliti!!</h2>
            
            <div class="soal">

                <form id="myForm">
                    <div>
                        <label>Bentuk sederhana dari 24𝑎 −7 𝑏 −2𝑐 / 6𝑎−2𝑏−3𝑐−6 adalah...</label><br>
                        <input type="radio" id="q1_yes" name="q1" value="0">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">7bc/a5</label>
                        <input type="radio" id="q1_no" name="q1" value="10">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">4bc7/a5</label>
                        <input type="radio" id="q1_no" name="q1" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">5bc7/a5</label>
                    </div>
                    <div>
                        <label>Pada pukul 08.00 pagi massa suatu zat radioaktif adalah 0,2 kg. Apabila diketahui laju peluruhan zat radioaktif tersebut 10% setiap jam, sisa zat radioaktif itu pada pukul 14.00 siang dalam gram adalah ....</label><br>
                        <input type="radio" id="q1_yes" name="q2" value="0">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">100 gram</label>
                        <input type="radio" id="q1_no" name="q2" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">103 gram</label>
                        <input type="radio" id="q1_no" name="q2" value="10">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">106 gram</label>
                    </div>
                    <div>
                        <label>Himpunan penyelesaian dari 2 𝑥 2−3𝑥 = 16 adalah ...</label><br>
                        <input type="radio" id="q1_yes" name="q3" value="0">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">{1,4}</label>
                        <input type="radio" id="q1_no" name="q3" value="10">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">{-1,4}</label>
                        <input type="radio" id="q1_no" name="q3" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">{2,4}</label>
                    </div>
                    <div>
                        <label>Himpunan penyelesaian 25𝑥+2 = 53𝑥−4 adalah ...</label><br>
                        <input type="radio" id="q1_yes" name="q4" value="10">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">8</label>
                        <input type="radio" id="q1_no" name="q4" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">9</label>
                        <input type="radio" id="q1_no" name="q4" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">6</label>
                    </div>
                    <div>
                        <label>Nilai logaritma dari 8log32 adalah ...</label><br>
                        <input type="radio" id="q1_yes" name="q5" value="0">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">5/4</label>
                        <input type="radio" id="q1_no" name="q5" value="10">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">5/3</label>
                        <input type="radio" id="q1_no" name="q5" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">2/4</label>
                    </div>
                    <div>
                        <label>Nilai a, b, dan c dari persamaan kuadrat 2x - 3x2 = 0 secara berturut-turut adalah…</label><br>
                        <input type="radio" id="q1_yes" name="q6" value="10">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">-3, 2, 0</label>
                        <input type="radio" id="q1_no" name="q6" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">2, -3, 1</label>
                        <input type="radio" id="q1_no" name="q6" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">2, -3, 0</label>
                    </div>
                    <div>
                        <label>Hasil kali akar-akar persamaan kuadrat 2x2 - 4x - 6 = 0 adalah…</label><br>
                        <input type="radio" id="q1_yes" name="q7" value="0">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">-1</label>
                        <input type="radio" id="q1_no" name="q7" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">2</label>
                        <input type="radio" id="q1_no" name="q7" value="10">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">-3</label>
                    </div>
                    <div>
                        <label>Diketahui fungsi f : R –> R dan g: R –> R, di mana f(x) = 2x +1 dan g (x) = x2 – 1. Maka fungsi komposisi (g o f) (x) adalah…</label><br>
                        <input type="radio" id="q1_yes" name="q8" value="10">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">4x2 + 4x</label>
                        <input type="radio" id="q1_no" name="q8" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">4x2 – 4x</label>
                        <input type="radio" id="q1_no" name="q8" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">4x2 – 4x + 1</label>
                    </div>
                    <div>
                        <label>Diketahui fungsi f : R –> R dan g: R –> R, di mana (g o f) (x) = 2x2 + 4x + 5 dan g(x) = 2x – 3. Maka fungsi komposisi f(x) adalah…</label><br>
                        <input type="radio" id="q1_yes" name="q9" value="0">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">2x2 + 4x + 1</label>
                        <input type="radio" id="q1_no" name="q9" value="10">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">x2 + 2x + 1</label>
                        <input type="radio" id="q1_yes" name="q9" value="0">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">x2 + x + 2</label>
                    </div>
                    <div>
                        <label>Diketahui fungsi f : R –> R dan g: R –> R, ditentukan oleh g(x) = x + 2 dan (f o g) (x) = x2 + 4x. Rumus f(x) adalah…</label><br>
                        <input type="radio" id="q1_yes" name="q10" value="10">
                        <label for="q1_yes" style="font-size: 16px; font-weight: 400;">x2 – 4</label>
                        <input type="radio" id="q1_no" name="q10" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">x2 – 12</label>
                        <input type="radio" id="q1_no" name="q10" value="0">
                        <label for="q1_no" style="font-size: 16px; font-weight: 400;">x2 – 8x + 12</label>
                    </div>
                   



                    <a href=""><button id="submit" type="button">Submit</button></a>
                </form>

            </div>
        </div>
        <div class="hasil-con">
            <h1>Hasil tes matematika kamu!!</h1>
            <div class="con-riasec">
               <h1 id="nilai" style="font-size: 96px; color: black;">hasil</h1>
            </div>
            <p>Tetap semangat!!  <a id="coba" href="">Coba Lagi</a></p>

        </div>
        

    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js";
        import { getDatabase, get,update, set, ref , child} from "https://www.gstatic.com/firebasejs/10.8.0/firebase-database.js";

        document.addEventListener("DOMContentLoaded", function() {




        let creds = JSON.parse(sessionStorage.getItem("creds"));
        let info = JSON.parse(sessionStorage.getItem("user-info"));
        const tesCon = document.querySelector('.tes-con');
        const hasilCon = document.querySelector('.hasil-con');
        const riasecCon = document.querySelector('.riasec-con');
        const submitBtn = document.getElementById('submit');
        const hasil = document.getElementById('nilai');
        const ulang = document.getElementById('coba');
        





        const firebaseConfig = {
           apiKey: "AIzaSyC02kA2sOKfzUPLlfeHOr66Vf3HsIpPRhw",
           authDomain: "setudy-9d61c.firebaseapp.com",
           databaseURL: "https://setudy-9d61c-default-rtdb.asia-southeast1.firebasedatabase.app",
           projectId: "setudy-9d61c",
           storageBucket: "setudy-9d61c.appspot.com",
           messagingSenderId: "583846931989",
           appId: "1:583846931989:web:fd9f2effc67b313772e81c",
           measurementId: "G-H3WL8YX8XY"
};


const app = initializeApp(firebaseConfig);
        const db = getDatabase();
        const dbref = ref(db);
        function submitForm() {
                    var q1 = parseInt(document.querySelector('input[name="q1"]:checked').value)
                    var q2 = parseInt(document.querySelector('input[name="q2"]:checked').value)
                    var q3 = parseInt(document.querySelector('input[name="q3"]:checked').value)
                    var q4 = parseInt(document.querySelector('input[name="q4"]:checked').value)
                    var q5 = parseInt(document.querySelector('input[name="q5"]:checked').value)
                    var q6 = parseInt(document.querySelector('input[name="q6"]:checked').value)
                    var q7 = parseInt(document.querySelector('input[name="q7"]:checked').value)
                    var q8 = parseInt(document.querySelector('input[name="q8"]:checked').value)
                    var q9 = parseInt(document.querySelector('input[name="q9"]:checked').value)
                    var q10 = parseInt(document.querySelector('input[name="q10"]:checked').value)

  
                    update(ref(db, 'UsersAuthList/' + creds.uid + '/nilai/mtk'), {
                        nilai:q1+q2+q3+q4+q5+q6+q7+q8+q9+q10,
                        condition:1
                    })

                    



            }     
            function ulangTes() {
                update(ref(db, 'UsersAuthList/' + creds.uid + '/nilai/mtk'), {
                        
                        condition:0
                    })
            }  


get(child(dbref, `UsersAuthList/${creds.uid}/nilai/mtk`)).then((nilai)=> {
console.log(nilai.val().condition)
let condition = nilai.val().condition;
let nilaimtk = nilai.val().nilai;

 if (condition == 0){
 tesCon.style.display = 'flex'
 submitBtn.addEventListener('click', submitForm);
 } else if(condition == 1){
 hasilCon.style.display = 'flex'
hasil.innerText = `${nilaimtk}/100`;
ulang.addEventListener('click', ulangTes);


 

 }

})



})
       



    



           
        </script>

</body>

</html>